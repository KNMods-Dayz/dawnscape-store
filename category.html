<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>DawnScape Store - Category</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Bootstrap 4 -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

  <!-- PREMIUM THEME (inline, plug-and-play) -->
  <style>
    :root{
      --bg0:#070A12;
      --bg1:#0B1020;
      --card:#0F1730;
      --text:#EAF0FF;
      --muted:rgba(234,240,255,.72);
      --muted2:rgba(234,240,255,.55);
      --line:rgba(255,255,255,.08);
      --gold1:#F6D37A;
      --gold2:#D9A441;
      --aqua1:#7FFFD4;
      --aqua2:#2EE0FF;
      --shadow: 0 18px 60px rgba(0,0,0,.55);
      --shadow2: 0 10px 35px rgba(0,0,0,.45);
      --radius: 18px;
    }

    html,body{height:100%;}
    body{
      background:
        radial-gradient(1200px 700px at 15% 5%, rgba(46,224,255,.12), transparent 60%),
        radial-gradient(900px 550px at 85% 10%, rgba(246,211,122,.10), transparent 55%),
        radial-gradient(1200px 800px at 50% 110%, rgba(127,255,212,.10), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      color:var(--text);
      overflow-x:hidden;
    }

    body:before{
      content:"";
      position:fixed; inset:0;
      pointer-events:none;
      background-image:
        radial-gradient(circle at 20% 20%, rgba(255,255,255,.06) 0 1px, transparent 2px),
        radial-gradient(circle at 60% 35%, rgba(255,255,255,.05) 0 1px, transparent 2px),
        radial-gradient(circle at 80% 70%, rgba(255,255,255,.045) 0 1px, transparent 2px),
        radial-gradient(circle at 40% 80%, rgba(255,255,255,.04) 0 1px, transparent 2px);
      background-size: 420px 420px, 520px 520px, 620px 620px, 720px 720px;
      opacity:.9;
    }

    /* NAV */
    .ds-nav{
      background: rgba(8,10,18,.55) !important;
      backdrop-filter: blur(14px);
      border-bottom:1px solid var(--line);
    }
    .navbar-brand{
      font-weight: 900;
      letter-spacing: .4px;
      text-transform: uppercase;
      display:flex;
      align-items:center;
    }
    .navbar-brand small{
      display:block;
      font-weight:800;
      font-size:11px;
      letter-spacing:.8px;
      color:var(--muted2);
      margin-top:-2px;
      text-transform:none;
    }
    .nav-link{
      color: rgba(234,240,255,.85) !important;
      font-weight: 800;
      letter-spacing:.15px;
      opacity:.92;
    }
    .nav-link:hover{opacity:1;}
    .ds-pill{
      border:1px solid rgba(255,255,255,.12);
      border-radius: 999px;
      padding:.52rem .9rem;
      font-weight:900;
      box-shadow: 0 10px 28px rgba(0,0,0,.35);
      background: rgba(12,19,40,.55);
      color: rgba(234,240,255,.92);
    }
    .ds-pill:hover{
      border-color: rgba(246,211,122,.35);
      transform: translateY(-1px);
      color: white;
      text-decoration:none;
    }

    /* HEADER STRIP */
    .ds-header{
      border-radius: 22px;
      padding: 18px 18px;
      background:
        radial-gradient(700px 300px at 15% 35%, rgba(46,224,255,.14), transparent 60%),
        radial-gradient(700px 300px at 85% 10%, rgba(246,211,122,.12), transparent 60%),
        linear-gradient(180deg, rgba(15,23,48,.85), rgba(10,15,30,.75));
      border:1px solid rgba(255,255,255,.10);
      box-shadow: var(--shadow2);
    }
    .ds-title{
      font-weight: 950;
      letter-spacing:.2px;
      text-transform: uppercase;
      margin-bottom: 4px;
    }
    .ds-sub{
      color: var(--muted);
      margin:0;
    }

    /* FILTER BAR */
    .ds-filter{
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(12,19,40,.35);
      backdrop-filter: blur(12px);
      box-shadow: var(--shadow2);
    }
    .form-control, .custom-select{
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(8,10,18,.45);
      color: rgba(234,240,255,.92);
    }
    .form-control::placeholder{ color: rgba(234,240,255,.45); }
    .form-control:focus, .custom-select:focus{
      border-color: rgba(46,224,255,.35);
      box-shadow: 0 0 0 .2rem rgba(46,224,255,.12);
      background: rgba(8,10,18,.55);
      color: rgba(234,240,255,.92);
    }

    /* PRODUCT CARDS */
    .product-card{
      border: 1px solid rgba(255,255,255,.10);
      border-radius: var(--radius);
      background: linear-gradient(180deg, rgba(15,23,48,.92), rgba(10,15,30,.88));
      box-shadow: var(--shadow2);
      overflow:hidden;
      transition: transform .18s ease, border-color .18s ease, box-shadow .18s ease;
    }
    .product-card:hover{
      transform: translateY(-4px);
      border-color: rgba(246,211,122,.32);
      box-shadow: 0 22px 70px rgba(0,0,0,.60);
    }
    .product-card .card-img-top{
      height: 160px;
      object-fit: cover;
      filter: saturate(1.05) contrast(1.05);
    }
    .ds-card-top{
      position:relative;
      background: linear-gradient(135deg, rgba(11,16,32,.9), rgba(26,42,74,.75));
    }
    .ds-badge{
      position:absolute;
      top:12px;
      left:12px;
      border-radius: 999px;
      padding: 7px 10px;
      font-weight: 950;
      letter-spacing:.2px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(8,10,18,.55);
      color: rgba(234,240,255,.92);
      backdrop-filter: blur(10px);
    }

    .card-title{
      font-weight: 950;
      letter-spacing:.15px;
      margin-bottom: 8px;
    }
    .ds-muted{
      color: var(--muted2);
      font-size:.95rem;
    }
    .ds-price{
      font-weight: 950;
      font-size: 1.05rem;
      letter-spacing:.2px;
    }

    .btn-primary{
      font-weight: 950;
      letter-spacing:.15px;
      border:none;
      border-radius: 12px;
      padding: .72rem 1rem;
      background: linear-gradient(90deg, var(--aqua1), var(--aqua2));
      color: #061018;
      box-shadow: 0 16px 40px rgba(46,224,255,.16);
    }
    .btn-primary:hover{ transform: translateY(-1px); }

    .btn-secondary{
      font-weight: 900;
      letter-spacing:.1px;
      border-radius: 12px;
      padding: .72rem 1rem;
      background: rgba(12,19,40,.65);
      border:1px solid rgba(255,255,255,.14);
      color: rgba(234,240,255,.9);
    }
    .btn-secondary:hover{
      border-color: rgba(127,255,212,.35);
      transform: translateY(-1px);
    }

    /* EMPTY */
    .ds-empty{
      border:1px solid rgba(255,255,255,.10);
      background: rgba(12,19,40,.25);
      border-radius: 18px;
      padding: 28px;
      color: var(--muted);
      box-shadow: var(--shadow2);
    }

    /* FOOTER */
    .ds-footer{
      border-top: 1px solid var(--line);
      color: var(--muted2);
      padding: 18px 0;
    }

    /* MODAL */
    .modal-content{
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.12);
      background: linear-gradient(180deg, rgba(15,23,48,.96), rgba(10,15,30,.92));
      box-shadow: var(--shadow);
      color: rgba(234,240,255,.92);
    }
    .modal-header{
      border-bottom: 1px solid rgba(255,255,255,.10);
    }
  </style>
</head>

<body>

<!-- NAV -->
<nav class="navbar navbar-expand-lg navbar-dark ds-nav mb-4">
  <div class="container">
    <a class="navbar-brand" href="index.html">
      <img src="assets/logo.png" alt="DawnScape" style="height:34px;" class="mr-2">
      <div>
        DawnScape
        <small>Official Webstore</small>
      </div>
    </a>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navMenu">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navMenu">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item"><a class="nav-link" href="category.html?cat=perks">Perks & Upgrades</a></li>
        <li class="nav-item"><a class="nav-link" href="category.html?cat=ranks">Donator Ranks</a></li>
        <li class="nav-item"><a class="nav-link" href="category.html?cat=boxes">Boxes & Crates</a></li>
        <li class="nav-item"><a class="nav-link" href="category.html?cat=pets">Legendary Pets</a></li>
        <li class="nav-item"><a class="nav-link" href="category.html?cat=credits">Store Credits</a></li>
      </ul>

      <a href="#" class="ds-pill">
        Cart <span class="ml-1" style="opacity:.85;">(0)</span>
      </a>
    </div>
  </div>
</nav>

<div class="container">

  <!-- CATEGORY HEADER -->
  <div class="ds-header mb-3">
    <div class="d-flex flex-wrap align-items-center justify-content-between" style="gap:10px;">
      <div>
        <h2 id="catTitle" class="ds-title mb-0">Category</h2>
        <p id="catDesc" class="ds-sub">
          Browse premium DawnScape products in this category.
        </p>
      </div>
      <div class="d-flex flex-wrap" style="gap:10px;">
        <a href="index.html" class="btn btn-secondary">← Back</a>
        <a href="https://discord.gg/df4KahPufe" target="_blank" rel="noopener" class="btn btn-secondary">Discord</a>
      </div>
    </div>
  </div>

  <!-- FILTERS -->
  <div class="card ds-filter mb-4">
    <div class="card-body">
      <div class="row">
        <div class="col-md-6 mb-2 mb-md-0">
          <input id="search" type="text" class="form-control" placeholder="Search products..." />
        </div>
        <div class="col-md-3 mb-2 mb-md-0">
          <select id="sort" class="custom-select">
            <option value="featured" selected>Sort: Featured</option>
            <option value="priceAsc">Price: Low → High</option>
            <option value="priceDesc">Price: High → Low</option>
            <option value="nameAsc">Name: A → Z</option>
          </select>
        </div>
        <div class="col-md-3">
          <button id="clear" class="btn btn-secondary btn-block">Clear</button>
        </div>
      </div>
      <div class="small mt-2" style="color: var(--muted2);">
        Tip: Purchases are delivered via in-game claim system. If delayed, relog and try again.
      </div>
    </div>
  </div>

  <!-- PRODUCTS GRID -->
  <div id="grid" class="row">
    <!-- Example product (duplicate these or render dynamically later) -->
    <div class="col-md-3 mb-4 item" data-name="Example Product" data-price="10">
      <div class="card h-100 product-card">
        <div class="ds-card-top">
          <span class="ds-badge">POPULAR</span>
          <img src="assets/banner.jpg" class="card-img-top" alt="Example Product">
        </div>
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">Example Product</h5>
          <div class="ds-muted mb-2">Premium DawnScape item for this category.</div>

          <div class="mt-auto">
            <div class="d-flex align-items-center justify-content-between mb-2">
              <div class="ds-price">$10.00</div>
              <span class="badge" style="background:rgba(246,211,122,.15); border:1px solid rgba(246,211,122,.35); color:rgba(234,240,255,.92); border-radius:999px; padding:7px 10px; font-weight:900;">
                Limited
              </span>
            </div>

            <a href="#" class="btn btn-primary btn-block mb-2">Add to Cart</a>
            <a href="#" class="btn btn-secondary btn-block" data-toggle="modal" data-target="#productModal"
               data-title="Example Product"
               data-body="This is an example product in this category. Replace with your real items.">
              View Details
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- EMPTY STATE -->
  <div id="empty" class="ds-empty text-center" style="display:none;">
    <h4 style="font-weight:950; text-transform:uppercase;">No results</h4>
    <p class="mb-3">Try a different search term or clear filters.</p>
    <button class="btn btn-secondary" onclick="(function(){document.getElementById('search').value='';document.getElementById('sort').value='featured';window.applyFilters();})();">
      Clear filters
    </button>
  </div>

  <!-- FOOTER -->
  <footer class="ds-footer text-center mb-4 mt-4">
    <small>&copy; <span id="year"></span> DawnScape. All rights reserved.</small>
  </footer>
</div>

<!-- Product Info Modal -->
<div class="modal fade" id="productModal" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="productModalTitle" style="font-weight:950;">Product Info</h5>
        <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" id="productModalBody">
        Loading...
      </div>
    </div>
  </div>
</div>

<!-- Scripts -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script>
  // Footer year
  document.getElementById('year').textContent = new Date().getFullYear();

  // Category mapping (for premium header text)
  const catMap = {
    perks:  { title: "Perks & Upgrades", desc: "Quality-of-life boosts, utility perks, and powerful upgrades." },
    ranks:  { title: "Donator Ranks",    desc: "Unlock premium commands, perks, and exclusive access." },
    boxes:  { title: "Boxes & Crates",   desc: "Mystery boxes packed with rewards and jackpot potential." },
    pets:   { title: "Legendary Pets",   desc: "Rare companions with powerful bonuses and flex value." },
    credits:{ title: "Store Credits",    desc: "Flexible credits for purchasing anything in the store." },
    cosmetics:{ title: "Cosmetics",      desc: "Overrides, animations, and style upgrades." }
  };

  // Read category from URL
  const params = new URLSearchParams(window.location.search);
  const cat = (params.get("cat") || "").toLowerCase();
  const meta = catMap[cat];

  if (meta) {
    document.getElementById("catTitle").textContent = meta.title;
    document.getElementById("catDesc").textContent = meta.desc;
    document.title = "DawnScape Store - " + meta.title;
  }

  // Modal dynamic content
  $('#productModal').on('show.bs.modal', function (event) {
    var button = $(event.relatedTarget);
    var title = button.data('title');
    var body = button.data('body');
    $('#productModalTitle').text(title);
    $('#productModalBody').text(body);
  });

  // Search + sort
  function toNum(v){
    const n = parseFloat(String(v).replace(/[^0-9.]/g,''));
    return isNaN(n) ? 0 : n;
  }

  window.applyFilters = function(){
    const q = (document.getElementById('search').value || '').trim().toLowerCase();
    const mode = document.getElementById('sort').value;
    const grid = document.getElementById('grid');
    const items = Array.from(grid.querySelectorAll('.item'));

    // filter
    let visible = 0;
    items.forEach(it=>{
      const name = (it.getAttribute('data-name') || '').toLowerCase();
      const ok = q === '' || name.includes(q);
      it.style.display = ok ? '' : 'none';
      if(ok) visible++;
    });

    // sort visible by re-append
    const sorted = items.filter(it => it.style.display !== 'none').sort((a,b)=>{
      const aName = (a.getAttribute('data-name') || '').toLowerCase();
      const bName = (b.getAttribute('data-name') || '').toLowerCase();
      const aPrice = toNum(a.getAttribute('data-price'));
      const bPrice = toNum(b.getAttribute('data-price'));
      if(mode === 'priceAsc') return aPrice - bPrice;
      if(mode === 'priceDesc') return bPrice - aPrice;
      if(mode === 'nameAsc') return aName.localeCompare(bName);
      return 0; // featured
    });
    sorted.forEach(it=>grid.appendChild(it));

    document.getElementById('empty').style.display = (visible === 0) ? '' : 'none';
  };

  document.getElementById('search').addEventListener('input', window.applyFilters);
  document.getElementById('sort').addEventListener('change', window.applyFilters);
  document.getElementById('clear').addEventListener('click', function(){
    document.getElementById('search').value = '';
    document.getElementById('sort').value = 'featured';
    window.applyFilters();
  });

  window.applyFilters();
</script>
</body>
</html>
